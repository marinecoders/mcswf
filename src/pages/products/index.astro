---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import { displaySiteBanner } from '../../components/stores.js';
import FooterFull from '@components/FooterFull.svelte';

import '../../styles/global.css';
import '../../styles/fonts.css';
import Hero from '../../components/elements/Hero.svelte';
import ContentImageFull from '../../components/sections/ContentImageFull.svelte';
const products = await getCollection('products');
displaySiteBanner.set(false);
products.sort((a,b) => a.data.order - b.data.order)
---



<Layout title='Overview'>
  <div
    class='fixed left-0 z-10 flex justify-center w-full align-middle top-24 h-5/6'>
    <img src='/ega.svg' />
  </div>
  <div class='relative font-expressway red-radial-gradient scrollbar-hide'>
    <div
      class="relative z-20 h-fit bg-[url('/images/Overview_hero.svg')] bg-top bg-cover bg-center bg-no-repeat rounded-b-2xl lg:rounded-none">
      <div
        class='bg-gradient-to-t from-black py-20 rounded-b-2xl lg:rounded-none'>
        <Hero
          padding='pt-24'
          title='OUR PRODUCT PORTFOLIO'
          content='Real solutions to real problems - Created for Marines, by Marines at the Marine Corps Software Factory.'
          contentClasses='pt-5'
        />
      </div>
    </div>
    <div class='relative z-20'>
      {products.map(e => (

          <ContentImageFull
            flipped = { e.data.order % 2 === 0 }
            link=`products/${e.id}`
            linkText='LEARN MORE'
            title=`<span class="flex"><span class='text-mcswf-gold text-[48px] flex-shrink lg:text-[64px] font-menobanner font-light'>0${e.data.order}</span> <span class='ml-2 text-[32px] lg:ml-5'>${e.data['product']}</span></span>`
            content={e.data['description']}
            image={e.data['image2'].src}
            imageClasses=''
            titleClasses='text-white tracking-[4px]'
          />
        ),
      )}
    </div>
    <div class='pt-20 relative z-20'>
      <FooterFull client:only />
    </div>
  </div>
</Layout>
