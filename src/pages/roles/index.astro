---
import Layout from '@layouts/Layout.astro';
import Hero from '@components/sections/Hero.svelte';
import MaxWidthContainer from '@components/sections/MaxWidthContainer.svelte';
import FooterFull from '@components/FooterFull.svelte';
import { displaySiteBanner } from '@components/stores.js';
import ContentImageFull from '@components/sections/ContentImageFull.svelte';
import { externalLinks } from '@content/externalLinks.js';
import '../../styles/global.css';
import '../../styles/fonts.css';

const posts = await Astro.glob('../../content/roles/*.md');
displaySiteBanner.set(false);

const { frontmatter, compiledContent } = Astro.props;
---

<Layout title="Roles">
  <Hero
    client:only="svelte"
    title="PICK THE PERFECT ROLE FOR YOU"
    titleClasses="w-72 md:w-96"
    backgroundImg="src/images/mcswf_instruction_wide.png"
    link={externalLinks.recruitingApplication}
    externalLink={true}
    linkText="APPLY NOW"
  />
  <MaxWidthContainer>
    {
      posts.map((post, index) => {
        return (
          <ContentImageFull
            title={post.frontmatter.role}
            titleClasses="text-white"
            content={post.frontmatter.about}
            link={'/roles/' + post.frontmatter.slug}
            linkText="LEARN MORE"
            image={`${post.frontmatter.image}`}
            imageAltText={post.frontmatter.image_alt_text}
            imagePosition={index % 2 === 0 ? 'right' : 'left'}
          />
        );
      })
    }
  </MaxWidthContainer>
  <FooterFull client:only="svelte" />
</Layout>
